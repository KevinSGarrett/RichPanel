# Docs Impact Map

**Run ID:** `RUN_20260119_0255Z`  
**Agent:** C  
**Date:** 2026-01-19

Goal: document what changed and where documentation must be updated.

## Docs updated in this run
- `docs/08_Engineering/Secrets_and_Environments.md` — **NEW** canonical secrets + environments documentation with AWS Secrets Manager tables (dev/staging/prod), GitHub Actions secrets guidance, environment variable overrides, security constraints, code references with validated line numbers, secret rotation procedures
- `docs/08_Engineering/CI_and_Actions_Runbook.md` — Already references the new doc in section 1.5 ("Secrets & Environments"); no changes needed
- `REHYDRATION_PACK/_TEMPLATES/Run_Report_TEMPLATE.md` — Already includes "Secrets consulted" section (lines 19-20) pointing to `docs/08_Engineering/Secrets_and_Environments.md`
- `REHYDRATION_PACK/_TEMPLATES/Docs_Impact_Map_TEMPLATE.md` — Already includes "Secrets consulted" section (lines 13-14) pointing to `docs/08_Engineering/Secrets_and_Environments.md`

## Secrets consulted
- See `docs/08_Engineering/Secrets_and_Environments.md` (created in this run) for the complete canonical mapping
- Validated the following secret paths from code:
  - `rp-mw/<env>/richpanel/api_key` (Richpanel client: `backend/src/richpanel_middleware/integrations/richpanel/client.py` L217-L221)
  - `rp-mw/<env>/richpanel/webhook_token` (Ingress Lambda: `backend/src/lambda_handlers/ingress/handler.py` L25, L100; CDK: `infra/cdk/lib/richpanel-middleware-stack.ts` L237)
  - `rp-mw/<env>/shopify/admin_api_token` (Shopify client: `backend/src/integrations/shopify/client.py` L178-L189)
  - `rp-mw/<env>/openai/api_key` (OpenAI client: `backend/src/integrations/openai/client.py` L191-L195)

## Docs that should be updated next (if any)
- None (all requirements met)

## Index/registry updates
- `docs/INDEX.md` updated: will be regenerated by CI
- `docs/CODEMAP.md` updated: will be regenerated by CI
- `docs/_generated/*` regenerated: will be regenerated by CI
- `reference/_generated/*` regenerated: will be regenerated by CI

## Notes
- The new `docs/08_Engineering/Secrets_and_Environments.md` provides a single source of truth for all secrets and environment configuration
- All code references include exact file paths and line number ranges validated by reading the source files
- Documented security constraints: Richpanel read-only enforcement (code-level write blocking), Shopify read-only scopes requirement
- Templates already have "Secrets consulted" sections pointing to the new document (no template updates needed)
- CI_and_Actions_Runbook.md already references the new doc in section 1.5 (no updates needed)
