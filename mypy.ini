[mypy]
# Limit type checking to the main python sources to avoid walking generated trees.
files = backend/src, scripts

# Skip generated/output directories and CDK asset folders (handle / or \ separators).
# Note: The asset\.[^\\/]+ pattern catches CDK synth outputs like infra/cdk/cdk.out/asset.12345abc/
# which would otherwise trigger "asset.* not a valid Python package name" errors.
exclude = (?x)(
    (^|[\\/])infra[\\/]cdk[\\/]cdk\.out([\\/]|$)
  | (^|[\\/])node_modules([\\/]|$)
  | (^|[\\/])docs[\\/]_generated([\\/]|$)
  | (^|[\\/])REHYDRATION_PACK([\\/]|$)
  | (^|[\\/])PM_REHYDRATION_PACK([\\/]|$)
  | (^|[\\/])asset\.[^\\/]+([\\/]|$)
    )

# Keep the config non-disruptive: tolerate missing stubs and namespace packages.
ignore_missing_imports = True
namespace_packages = True

